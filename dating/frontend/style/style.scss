@import "reset";
@import "colors";
@import "typography";
@import "grid";
@import "shadows";

@import "skeleton";
@import "helpers";
@import "forms";
@import "scrollbars";


%button {
    @extend %txt-button;

    outline: 0;
    border: none;
    border-radius: 0.15rem;
    height: $txt-lh-btn;
    display: inline-block;
    padding: 0 1rem;
    text-align: center;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    transition: background, color, box-shadow 0.15s ease;

    .material-icons {
        line-height: $txt-lh-btn;
    }
}

.flat-btn {
    @extend %button;

    height: 1rem;
    line-height: 1rem;
    color: $txt-col-light;

    .material-icons {
        line-height: 1rem;
    }

    &:hover {
        color: $pri-col;
    }

    &:active {
        color: $pri-col-dark;
    }
}

button, .btn {
    @extend %button;
    @extend %txt-white;
    @extend %shadow-2;

    background-color: $pri-col;

    transition: background 0.15s ease;

    &:hover {
        background-color: $pri-col-light;
        @extend %shadow-4;
    }

    &:active {
        background-color: $pri-col-dark;
    }
}

.toasts {
    position: fixed;
    right: 1rem;
    top: $header-height;
    z-index: 1;

    .toast {
        margin-top: 1rem;
        background-color: white;
        padding: .3rem 1rem;
        margin-bottom: 0.5rem;
        border: 1px solid #852929;
        display: block;
        border-radius: 0.2rem;
    }
}

.conversation-with {
    @extend %txt-heading;
}

.conversation-last-message {
    @extend %txt-subheading;

    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}


.messages {
    height: 70vh;
    overflow-y: auto;
}

.message {
    width: 100%;
    clear: both;

    div {
        max-width: 40%;
        margin-bottom: 0.2rem;
        padding: 0.6rem;
        border-radius: 0.8rem;
        overflow-wrap: break-word;
    }

    &.author-me div {
        @extend %txt-white;
        border-radius: 0.8em 0.2em 0.2em 0.8em;
        float: right;
        background-color: $pri-col-light;
    }
    &.author-friend div {
        border-radius: 0.2em 0.8em 0.8em 0.2em;
        float: left;
        background-color: $bg-col-light;
    }

    &.is-first-in-group.author-me div     { border-top-right-radius: 0.8em; }
    &.is-last-in-group.author-me div      { border-bottom-right-radius: 0.8em; }
    &.is-first-in-group.author-friend div { border-top-left-radius: 0.8em; }
    &.is-last-in-group.author-friend div  { border-bottom-left-radius: 0.8em; }
}

/*
li.message.author-me.is-first-in-group div {
}

li.message.author-me.is-last-in-group div {
    border-bottom-right-radius: 0.8em;
}
li.message.author-friend.is-first-in-group div {
    border-top-left-radius: 0.8em;
}
li.message.author-friend.is-last-in-group div {
    border-bottom-left-radius: 0.8em;
}
*/

.messages {
    li {
        margin-bottom: 1rem;
    }
}

.property {
    span {
        display: block;
    }
}


.user-card {
    @extend %shadow-1;

    .profile-image {
        width: 100px;

        div {
            width: 100px;
            height: 100px;
            background-position: center;
            background-size: cover;
        }
    }

    .pri-title {
        margin: 1rem;
    }

    p {
        font-size: 0.9rem;
        line-height: 1.2rem;
        font-weight: $txt-weight-light;
        color: $txt-col-dark;

        margin: 0 1rem 1rem 1rem;
        height: 3.6rem;
        overflow: hidden;
    }

    .flat-btn {
        margin: 0 0 1rem -7px;
    }
}
